version: '3.8'

services:
  faq-mcp-server:
    build: .
    container_name: faq-mcp-server
    ports:
      - "9010:9010"
    environment:
      - MONGODB_URI=${MONGODB_URI}
      - DB_NAME=${DB_NAME:-faq_bootcamp}
      - COLLECTION_NAME=${COLLECTION_NAME:-questions}
      - EMBEDDING_PROVIDER=${EMBEDDING_PROVIDER:-local}
      - EMBEDDING_MODEL=${EMBEDDING_MODEL:-BAAI/bge-large-en-v1.5}
      - EMBEDDING_DIMENSION=${EMBEDDING_DIMENSION:-1024}
      - TFIDF_WEIGHT=${TFIDF_WEIGHT:-0.3}
      - EMBEDDING_WEIGHT=${EMBEDDING_WEIGHT:-0.7}
      - SERVER_HOST=${SERVER_HOST:-0.0.0.0}
      - SERVER_PORT=${SERVER_PORT:-9010}
    restart: unless-stopped
    networks:
      - mcp-network

networks:
  mcp-network:
    driver: bridge
